<html>
<head>
	<script>
	var c1, c2, c3, op, nb1, nb2, a, b, o;
	var play = Math.floor(Math.random() * 33);
	var operation = ["+", "-"];
	
	var questionColor = new Array(3);
	var firstNumber, secondNumber, sum;
	var color = [, "red", "blue", "purple", "yellow", "orange", "green", "black", "white",,,,,,,"gray"];
	
	function generateQuestion(){
		generateColor();
		generateNumber();
		displayMessage();
		
		document.getElementById('color').innerHTML = "Color: " + colorComb(op, questionColor);
		document.getElementById('number').innerHTML = "Number: " + numberComb(op, firstNumber, secondNumber, sum);
	}
	function generateColor(){
		switch (Math.floor(Math.random() * 33)) {
			case 0: //Green + Red = Black
				questionColor = [6, 1, 7], op = 0;
				return;
			case 1: //Red + Green = Black
				questionColor = [1, 6, 7], op = 0;
				return;
			case 2: //Red + Blue = Purple
				questionColor = [1, 2, 3], op = 0;
				return;
			case 3: //Blue + Red = Purple
				questionColor = [2, 1, 3], op = 0;
				return;
			case 4: //Red + Yellow = Orange
				questionColor = [1, 4, 5], op = 0;
				return;
			case 5: //Yellow + Red = Orange
				questionColor = [4, 1, 5], op = 0;
				return;
			case 6: //Yellow + Blue = Green
				questionColor = [4, 2, 6], op = 0;
				return;
			case 7: //Blue + Yellow = Green
				questionColor = [2, 4, 6], op = 0;
				return;
			case 8: //Black + White = Grey
				questionColor = [7, 8, 15], op = 0;
				return;
			case 9: //White + Black = Grey
				questionColor = [8, 7, 15], op = 0;
				return;
			case 10://Purple - Red = Blue
				questionColor = [3, 1, 2], op = 1;
				return;
			case 11://Purple - Blue = Red
				questionColor = [3, 2, 1], op = 1;
				return;
			case 12://Orange - Red = Yellow
				questionColor = [5, 1, 4], op = 1;
				return;
			case 13://Orange - Yellow = Red
				questionColor = [5, 4, 1], op = 1;
				return;
			case 14://Green - Yellow = Blue
				questionColor = [6, 4, 2], op = 1;
				return;
			case 15://Green - Blue = Yellow
				questionColor = [6, 2, 4], op = 1;
				return;
			case 16://Grey - Black = White
				questionColor = [15, 7, 8], op = 1;
				return;
			case 17://Grey - White = Black
				questionColor = [15, 8, 7], op = 1;
				return;
			case 18://Color - Color OR Color + Color
				var ran = Math.floor(Math.random() * 9);
				op = Math.floor(Math.random() * 2);
				if (op == 0)
					questionColor = [ran, ran, ran];
				else
					questionColor = [ran, ran, 7];	
				return;
			default: //Gives Random Color codes to all three param
				var param1 = Math.floor(Math.random() * 9 + 1);
				var param2 = Math.floor(Math.random() * 9 + 1);
				var param3 = Math.floor(Math.random() * 9 + 1);
				
				if(param1 == 9)
					param1 = 15;
				if(param2 == 9)
					param2 = 15;
				if(param3 == 9)
					param3 = 15;
				
				questionColor = [param1, param2, param3];
				op = Math.floor(Math.random() * 2);
				return;
		}
	}
	
	function generateNumber(){
		var choice = Math.floor(Math.random() * 2);
		var a,b;
		firstNumber = Math.floor(Math.random() * 10 + 1);
		secondNumber = Math.floor(Math.random() * 10 + 1);
		
		while(firstNumber < secondNumber){
			firstNumber = Math.floor(Math.random() * 10 + 1);
			secondNumber = Math.floor(Math.random() * 10 + 1);
		}
		a = firstNumber, b = secondNumber;
		
		
		sum = !choice ? (!op ? a + b : a - b) : (!op ? a + b + 1 : a + 1 - b);
	}
	
	function displayMessage() {
		// Apply chosen colors to corresponding element
		document.getElementById('num1').style.color = color[questionColor[0]];
		document.getElementById('num2').style.color = color[questionColor[1]];
		document.getElementById('sum').style.color = color[questionColor[2]];
		
		// Display results
		document.getElementById('num1').innerHTML = firstNumber;
		document.getElementById('operation').innerHTML = operation[op];
		document.getElementById('num2').innerHTML = secondNumber;
		document.getElementById('sum').innerHTML = sum;
	} // end displayMessage

	window.onload = function() {
		generateQuestion();
	}
	function colorComb(op, a){
		return op ? (a[0] == a[1] && a[2] == 7 || a[0] - a[1] == a[2]) :
					(a[0] == a[1] && a[1] == a[2] || a[0] + a[1] == a[2]);
	}
	function numberComb(op, num1, num2, num3){
		return op ? num1 - num2 == num3 : num1 + num2 == num3;
	}
	function reload(){
		window.location.reload;
	}
	function getAnswer(){
		return colorComb(op, questionColor) && numberComb(op, firstNumber, secondNumber, sum);
	}
	function userAnswer(myAns){
		var questionAns = getAnswer();
		var message = document.getElementById('message');
		
		if(myAns == questionAns){
			//Score increment here
			message.style.color = "#70C1B2";
			message.innerHTML = "<h4>Correct!</h4>";
		} else {
			//decriment lives
			message.style.color = "#F25E5C";
			message.innerHTML = "<h4>Wrong!</h4>"
			//show hint if enabled
		}
		
		generateQuestion();
	}
	function newGame() {
		var modal = document.getElementById('gameOver');
		modal.style.display = "none";
		resetGame();
		generateQuestion();
	}
	function playSound(el,soundfile) {
		if (el.mp3) {
			el.mp3.pause();
			el.mp3.currentTime = 0;
			el.mp3.play();
		} else {
			el.mp3 = new Audio(soundfile);
			el.mp3.play();
		}
	}

	function playMusic(el,soundfile) {
		el.mp3 = new Audio(soundfile);
		el.mp3.addEventListener('ended', function() {
			this.currentTime = 0;
			this.play();
		}, false);
		el.mp3.play();
	}

	function changeVolume(audio,percent) {
		audio.volume = percent/100;
	}

	function sliderChange(value){
		document.getElementById('sliderStatus').innerHTML = value;
	}
	
	function resetGame(){
		score = 0;
		lives = 3;
		level = 1;
		document.getElementById('message').innerHTML = "";
		document.getElementById('level').innerHTML = "Level: " + level;
		document.getElementById('score').innerHTML = "Score: " + score;
		document.getElementById('heart1').className = "glyphicon glyphicon-heart";
		document.getElementById('heart2').className = "glyphicon glyphicon-heart";
		document.getElementById('heart3').className = "glyphicon glyphicon-heart";
	}

	
	
	</script>
	<style>
		.answer{
			float: left;
		}

	</style>
</head>
<body>
	<div id="num1"></div>
	<div id="operation"></div>
	<div id="num2"></div>
	<div id="sum"></div>
	<button onclick="generateQuestion()">Refresh</button>
	<div id="color">xxxxx</div>
	<div id="number">xxxxx</div>
	<button class="answer" onclick="userAnswer(true)">True</button>
	<button class="answer" onclick="userAnswer(false)">False</button>
	<div id="answerBox">xxxxx</div>
</body>
</html>